<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width=device-width, initial-scale = 1.0">
        <link rel = "icon" href = "Music_Note.png">
        <title>Soundboard</title>
        <link rel = "stylesheet" href = "style.css">
    </head>
    <body>
        <div class = "container">
            <div class = "header">
                <h1>Soundboard</h1>
            </div>

            <div class = 'keys'>

                <div class = 'key' data-key = 'bruh'>
                    <kdb>B</kdb>
                    <span class = 'sound'>Bruh</span>
                </div>

            </div>

            <div class = "footer">
                <p>Made by Ansel Zeng<br>Copyright Â© 2020. All rights reserved.</p>
            </div>
        </div>

        <audio data-key = 'bruh' src = 'Bruh.mp3'></audio>

        <script>
            window.addEventListener('keydown', function(e){
                const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
                const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
                
                if (!audio) return;
                audio.currentTime = 0
                audio.play()
                key.classList.add('playing')
            })
            
            function removeTransition(e){
                if(e.propertyName !== 'transform') return
                this.classList.remove('playing')
            }
            
            const keys = document.querySelectorAll('.key')
            keys.forEach(key => key.addEventListener('transitionend', removeTransition))
        </script>

    </body>
</html>